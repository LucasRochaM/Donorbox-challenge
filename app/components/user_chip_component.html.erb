<div class="chip" data-user-id="<%= @user[:user_id] %>">
  <%= image_tag(@user[:avatar_url]) %>
  <div class="<%= @user[:online] == true ? 'online-status' : 'offline-status' %>"></div>
  <span class="text-white"><%= @user[:username] %></span>
</div>


<script>
 $(document).on('mouseenter', '.chip', function () {
  var card = $('.card-hover');
  var userId = $(this).data('user-id');

  if (!card.is(':hover')) {
    $.ajax({
      url: '/users/fetch_user_details',
      type: 'GET',
      data: { user_id: userId },
      success: function (data) {
        card.html(data).fadeIn('slow');
      },
    });
  }
});

$(document).on('mouseleave', '.card-hover', function () {
  $(this).fadeOut('slow');
});

</script>
